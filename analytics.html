<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="icon" th:href="@{/image/icon.ico}" type="image/x-icon">

    <title>Fiscal Corp analytics</title>

    <!-- Add Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Add FontAwesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

    <!-- Add external CSS -->
    <link rel="stylesheet" href="css/analytics.css">
</head>
<body>

<!-- Side panel -->
<div class="sidebar">
    <h4 class="mb-4"><i class="fa fa-cube"></i> Fiscal Corp</h4>
    <nav class="nav flex-column">
        <a href="overview" class="nav-link"><i class="fa fa-wallet"></i> Overview</a>
        <a href="analytics" class="nav-link active"><i class="fa fa-chart-bar"></i> Analytics</a>
        <a href="operations" class="nav-link"><i class="fa fa-credit-card"></i> Operations</a>
    </nav>
</div>

<!-- Main content -->
<div class="container">
    <h2 class="mb-4">Analytics</h2>

    <!-- Tabs -->
    <div class="content-tabs">
        <!-- Tab headers -->
        <div class="tab-header">
            <button class="tab-button active" data-tab="vendors">
                <i class="fa fa-building"></i> Vendors
            </button>
            <button class="tab-button" data-tab="projects">
                <i class="fa fa-project-diagram"></i> Projects
            </button>
            <button class="tab-button" data-tab="clients">
                <i class="fa fa-users"></i> Clients
            </button>
        </div>

        <!-- Tab content -->
        <div class="tab-content">
            <!-- Vendors tab -->
            <div class="tab-pane active" id="vendors">
                <h4>Vendor analytics</h4>

                <!-- Filter section -->
                <div class="filter-section">
                    <div class="filter-buttons">
                        <button class="filter-btn active" data-filter="current-month" data-tab-type="vendors">
                            Current Month
                        </button>
                        <button class="filter-btn" data-filter="current-quarter" data-tab-type="vendors">
                            Current Quarter
                        </button>
                        <button class="filter-btn" data-filter="all-time" data-tab-type="vendors">
                            For All Time
                        </button>
                        <button class="filter-btn" data-filter="period" data-tab-type="vendors">
                            Period: from ... to
                        </button>
                    </div>

                    <!-- Period selection -->
                    <div class="period-input" id="period-vendors">
                        <div class="date-group">
                            <label>From:</label>
                            <input type="date" class="date-input" id="date-from-vendors">
                            <label>To:</label>
                            <input type="date" class="date-input" id="date-to-vendors">
                            <button class="apply-btn" onclick="applyCustomPeriod('vendors')">Apply</button>
                        </div>
                    </div>

                    <!-- Current period -->
                    <div class="current-period" id="current-period-vendors">
                        analytics for: Current Month
                    </div>
                </div>

                <!-- Table container -->
                <div id="table-container-vendors"></div>
            </div>

            <!-- Projects tab -->
            <div class="tab-pane" id="projects">
                <h4>Project analytics</h4>

                <!-- Filter section -->
                <div class="filter-section">
                    <div class="filter-buttons">
                        <button class="filter-btn" data-filter="current-month" data-tab-type="projects">
                            Current Month
                        </button>
                        <button class="filter-btn" data-filter="current-quarter" data-tab-type="projects">
                            Current Quarter
                        </button>
                        <button class="filter-btn" data-filter="all-time" data-tab-type="projects">
                            For All Time
                        </button>
                        <button class="filter-btn" data-filter="period" data-tab-type="projects">
                            Period: from ... to
                        </button>
                    </div>

                    <!-- Period selection -->
                    <div class="period-input" id="period-projects">
                        <div class="date-group">
                            <label>From:</label>
                            <input type="date" class="date-input" id="date-from-projects">
                            <label>To:</label>
                            <input type="date" class="date-input" id="date-to-projects">
                            <button class="apply-btn" onclick="applyCustomPeriod('projects')">Apply</button>
                        </div>
                    </div>

                    <!-- Current period -->
                    <div class="current-period" id="current-period-projects">
                        analytics for: Current Month
                    </div>
                </div>

                <!-- Table container -->
                <div id="table-container-projects"></div>
            </div>

            <!-- Clients tab -->
            <div class="tab-pane" id="clients">
                <h4>Client analytics</h4>

                <!-- Filter section -->
                <div class="filter-section">
                    <div class="filter-buttons">
                        <button class="filter-btn" data-filter="current-month" data-tab-type="clients">
                            Current Month
                        </button>
                        <button class="filter-btn" data-filter="current-quarter" data-tab-type="clients">
                            Current Quarter
                        </button>
                        <button class="filter-btn" data-filter="all-time" data-tab-type="clients">
                            For All Time
                        </button>
                        <button class="filter-btn" data-filter="period" data-tab-type="clients">
                            Period: from ... to
                        </button>
                    </div>

                    <!-- Period selection -->
                    <div class="period-input" id="period-clients">
                        <div class="date-group">
                            <label>From:</label>
                            <input type="date" class="date-input" id="date-from-clients">
                            <label>To:</label>
                            <input type="date" class="date-input" id="date-to-clients">
                            <button class="apply-btn" onclick="applyCustomPeriod('clients')">Apply</button>
                        </div>
                    </div>

                    <!-- Current period -->
                    <div class="current-period" id="current-period-clients">
                        analytics for: Current Month
                    </div>
                </div>

                <!-- Table container -->
                <div id="table-container-clients"></div>
            </div>
        </div>
    </div>
</div>

<!-- Scripts for variables (if using Thymeleaf) -->
<script th:inline="javascript">
    const baseUrl = [[${baseUrl}]];
</script>

<script th:inline="javascript">
    const apiToken = [[${apiToken}]];
</script>

<script src="js/analytics.js"></script>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>