<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="icon" th:href="@{/image/icon.ico}" type="image/x-icon">

    <title>Fiscal Corp Wallet</title>

    <!-- Подключаем Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Подключаем Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Подключаем FontAwesome для иконок -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

    <!-- Подключаем внешний CSS -->
    <link rel="stylesheet" href="css/overview.css">
</head>
<body>

<!-- Боковая панель -->
<div class="sidebar">
    <h4 class="mb-4"><i class="fa fa-cube"></i> Fiscal Corp</h4>
    <nav class="nav flex-column">
        <a href="index" class="nav-link active"><i class="fa fa-wallet"></i> Overview</a>
        <a href="analytics" class="nav-link"><i class="fa fa-chart-bar"></i> Analytics</a>
        <a href="operations" class="nav-link"><i class="fa fa-credit-card"></i> Operations</a>
    </nav>
</div>

<!-- Основной контент -->
<div class="content">
    <h1 class="text-center mb-4" style="font-weight: bold;">Overview</h1>


    <!-- Блок общей суммы -->
    <div class="total-balance-block mb-5">
        <h5>Total Balance</h5>
        <h2>---</h2>
    </div>

    <!-- Блоки в стиле банковских карт -->
    <div class="cards-container">
        <div class="card-block usd-card">
            <div class="card-top">
                <span class="currency-name">USD Wallets</span>
                <span class="card-logo">💳</span>
            </div>
            <div class="card-number">**** **** **** ****</div>
            <div class="card-balance">$---</div>
        </div>
        <div class="card-block eur-card">
            <div class="card-top">
                <span class="currency-name">EUR Wallets</span>
                <span class="card-logo">💳</span>
            </div>
            <div class="card-number">**** **** **** ****</div>
            <div class="card-balance">€---</div>
        </div>
        <div class="card-block uah-card">
            <div class="card-top">
                <span class="currency-name">UAH Wallets</span>
                <span class="card-logo">💳</span>
            </div>
            <div class="card-number">**** **** **** ****</div>
            <div class="card-balance">₴---</div>
        </div>
    </div>


    <!-- Контейнер для баланса кошелька и списка кошельков -->
    <div class="wallet-container">
        <!-- Список кошельков -->
        <div class="custom-block wallet-list-block">
            <h5 style="font-weight: bold;">Wallets</h5> <!-- Сделано жирным -->
            <div class="wallet-list">
                <ul id="wallets-container" class="list-group"></ul>
            </div>
        </div>

        <!-- Баланс кошелька -->
        <div class="custom-block balance-block">
            <h5 class="mb-3" id="wallet-title">Choose a Wallet</h5>
            <h1 id="wallet-balance" style="font-size: 3.3rem;">$ 0.00</h1>
        </div>
    </div>

    <!-- График балансов и кнопка фильтрации -->
    <div class="custom-block mt-4" style="min-height: 500px;">
        <div class="filter-wrapper d-flex gap-2">
            <button id="show-table-button" class="btn btn-secondary w-50">Show Table</button>
            <button id="filter-button" class="btn btn-primary w-50">Filter by Date</button>
        </div>
        <div class="chart-wrapper">
            <canvas id="balanceChart"></canvas>
        </div>
    </div>
</div>

<!-- Модальное окно для ввода даты -->
<div id="filter-modal" class="modal" style="display: none;">
    <div class="modal-content">
        <span class="close" id="close-modal">&times;</span>
        <h3>Choose Period</h3>
        <div class="modal-input-wrapper">
            <label for="start-date">Start Date:</label>
            <input type="date" id="start-date" required>
        </div>
        <div class="modal-input-wrapper">
            <label for="end-date">End Date:</label>
            <input type="date" id="end-date" required>
        </div>
        <div class="modal-actions">
            <button id="apply-filter" class="btn btn-success">Apply Filter</button>
            <button id="reset-filter" class="btn btn-danger">Reset Filter</button>
        </div>
    </div>
</div>

<!-- Модальное окно для таблицы -->
<div id="table-modal" class="modal" style="display: none;">
    <div class="modal-content">
        <span class="close" id="close-table-modal">&times;</span>
        <h3 style="text-align: center; font-weight: bold;">Balance & Dates</h3> <!-- Сделано жирным -->
        <div>
            <table>
                <thead>
                <tr>
                    <th>Date</th>
                    <th>Balance</th>
                </tr>
                </thead>
                <tbody id="table-body">
                <!-- Данные будут добавлены через JavaScript -->
                </tbody>
            </table>
        </div>
    </div>
</div>

<script th:inline="javascript">
    const baseUrl = [[${baseUrl}]];
</script>

<script th:inline="javascript">
    const apiToken = [[${apiToken}]];
</script>

<!-- Подключаем локальный JS -->
<script src="js/overview.js"></script>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
